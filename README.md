# ixo client SDK

Everything you need to easily interact with the ixo ecosystem;
from identity generation to interactions with components such as
the Blocksync, the blockchain and cell nodes.

The SDK has 4 main parts:

- **Crypto tools**: Tools for generating identities, cryptographic
  key pairs, and signatures

- **Blockchain client**: Client for the ixo blockchain

- **Blocksync client**: Client for the ixo Blocksync

- **Cell node client**: Client for ixo cell nodes

**Note**: Documentation work is in progress, yet every available
functionality of the SDK is listed below. Don't hesitate to try
them out or even to check out the source (it really is simple).
Feedbacks are welcome, please don't hesitate to send issues & PRs.


## Usage

    const {
        crypto,
        makeBlockchainClient,
        makeBlocksyncClient,
        makeCellNodeClient,
    }
        = require('@ixo/client-sdk')

    const
        blockchainCli = makeBlockchainClient('<chain url>'),
        blocksyncCli = makeBlocksyncClient('<blocksync url>'),
        cellnodeCli = makeCellnodeClient('<cell node url>'),
        anotherCellnodeCli = makeCellnodeClient('<another cell node url>')


## Crypto tools

- `generateMnemonic([entropy])`

  Returns a randomly generated mnemonic.

        const mnemonic = crypto.generateMnemonic()

  In environments that don't support random byte generation
  natively, you will need to pass a custom entropy object
  yourself. React Native example:

        const {randomBytes} = require('react-native-randombytes')

        const mnemonic = crypto.generateMnemonic(randomBytes(16))


- `deriveAddress(mnemonic)`

  Returns a Cosmos wallet address using the given mnemonic as the
  seed. This is the address for ixo's crypto wallet.


- `deriveECKeyPair(mnemonic)`

  Returns a key pair generated by Bitcoin's SECP256k1 algorithm,
  using the given mnemonic as the seed.


- `signEC(message, privateKey)`

  Signs the given message with the given SECP256k1 private key, to
  make it ready to be broadcast to a Cosmos blockchain. Returns
  the signature.


- `deriveDidDoc(mnemonic)`

  Returns a Sovrin DID document, generated using the given
  mnemonic as the seed. See [the Sovrin DID package on
  NPM](https://npmjs.com/package/sovrin-did) for the return
  schema. See [the Sovrin protocol docs on
  DID](https://github.com/sovrin-foundation/protocol/blob/master/did.md)
  for more info on the DID.


- `deriveClaimAddress(verifyKey)`

  Returns a Cosmos wallet address using the given verify key (from
  a DID) as the seed. This is the address for ixo's claims wallet.


## The blockchain client

- `raw(url, opts)`

  Make a direct API call to the blockchain. Check out the Cosmos
  REST API docs here: https://cosmos.network/rpc/v0.37.9

  Examples:

      const {body: balances} = cli.raw('/bank/balances/' + someAddress)

      const {body: block} = cli.raw('/blocks/latest')

- `getAccounts(address)`

  Get accounts associated to the given address.

- `makeStdMsg(input)`

  Format an unsigned message using the given input, meant to be
  sent to the Cosmos blockchain. Examples are on the way.

- `broadcast(signedTx)`

  Send a signed message to the Cosmos blockchain.


## The blocksync client

- `raw(url, opts)`

  Make a direct API call to the blocksync. Check out the Blocksync
  API docs for available endpoints.

  Examples:

      const {body: {signed_data, fee}}
        = cli.raw('/api/sign_data', {method: 'POST', body: { ... }})

      const {body: projectList} = cli.raw('/api/project/listProjects')

- `ping()`

  Ping the blocksync service to make sure it is working properly.

- `getStats()`

- `registerUser(didDoc)`

  Register a user with the given DID.

- `getDidDoc(did)`

  Return the full matching DID document from the given DID.

- `listProjects(senderDid)`

  List all available projects.

- `getProject(did)`

  Get details of a specific project.


## The cell node client

- `raw(url, opts)`

  Make a direct API call to the cell node. Check out the cell node
  API docs for available endpoints.

- `project.create(data, signature)`

- `project.update(data, signature)`

- `project.fund(data, signature)`

- `project.createPublic(base64Content)`

- `project.fetchPublic(key)`

- `agent.create(data, signature)`

- `agent.list(data, signature)`

- `agent.updateStatus(data, signature)`

- `claim.create(data, signature)`

- `claim.evaluate(data, signature)`

- `claim.list(data, signature)`
